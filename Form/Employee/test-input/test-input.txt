//%attributes = {"lang":"en"} comment added and reserved by 4D.//Project Method: [Employee].GeneratedInput////   Parameter        Type             Description////Description://   ////Date        Init  Description//===============================================================================//02/05/2017   ??   Initial version.C_LONGINT($vL_FormEvent)$vL_FormEvent:=Form eventCase of : ($vL_FormEvent=On Load Record)DebugLog ("Form load record")// Get a list of managers who are;// a) Flagged as a manager// b) Currently employed (end date is empty or null): ($vL_FormEvent=On Load)DebugLog ("Form load form")// Get a pointer to the pop upC_POINTER($vP_Managers_PU)$vP_Managers_PU:=OBJECT Get pointer(Object named;"Managers_PU")If (Nil($vP_Managers_PU))ALERT("Could not get a pointer to the managers drop list")OK:=0Else DebugLog ("TODO: populate managers drop down")CREATE SET([Employee];"Current Selection")C_LONGINT($vL_dummy)$vL_dummy:=Records in selection([Employee])QUERY([Employee];[Employee]IsManagerFg=True)C_LONGINT($vL_numManagers)$vL_numManagers:=Records in selection([Employee])If ($vL_numManagers<1)DebugLog ("No managers found - promote someone")Else DebugLog ("Found ["+String($vL_numManagers)+"] managers")C_LONGINT($vL_index)// Before adding managers, ensure the control is empty again$vL_index:=Size of array($vP_Managers_PU->)If ($vL_index>0)DELETE FROM ARRAY($vP_Managers_PU->;1;$vL_index)End if For ($vL_index;1;$vL_numManagers)APPEND TO ARRAY($vP_Managers_PU->;Uppercase([Employee]Surname)+", "+[Employee]FirstName+", "+String([Employee]StartDate))NEXT RECORD([Employee])End for USE SET("Current Selection")End if End if End case 